//Originally from RP-1 v1.5 
//https://github.com/KSP-RO/RP-0
//Used under Creative Commons License

CONTRACT_TYPE:NEEDS[LRTRContracts]
{
	name = FirstTundraSat
	title = First Tundra Orbit Satellite	
	group = EarlySatellites
	agent = Federation Aeronautique Internationale

	description = A Tundra orbit is a highly elliptical geosynchronous orbit (note: not geostationary orbit) with a high inclination (usually near 63.4) and an orbital period of one sidereal day. A satellite placed in this orbit spends most of its time over a chosen area of the Earth, a phenomenon known as apogee dwell. The ground track of a satellite in a tundra orbit is a closed figure eight. An extreme version of this orbit puts the Perigee around 1000 km and the Apogee around 70,000 km. The orbit in this contract is actually using data from the Sirius Satellites that are the only known satellites using a Tundra orbit.&br;&br;Place a satellite into a Tundra Orbit.&br;&br;There will be an orbit showing in the map view and tracking station. You do not have to place the satellite into this orbit, but it is instead meant to show you where your Perigee and Apogee should approximately be located, but more importantly, it shows the proper shape of the orbit.

	synopsis = Launch a satellite into a Tundra Orbit

	completedMessage = Success! The Tundra orbit is highly eccentric and let's the satellite spend most of its time over the high latitudes.	

	sortKey = 407

	cancellable = true
	declinable = false
	autoAccept = false
	minExpiry = 0
	maxExpiry = 0
	maxCompletions = 1
	maxSimultaneous = 1
	deadline = LRTRDaysPerYear() * LRTRDeadlineMult()  // 1 year

	targetBody = HomeWorld()	


	// ************ REWARDS ************	
	prestige = Trivial       // 1.0x	
	advanceFunds = 10000	 * @LRTR:globalHardContractMultiplier
	rewardFunds = 32500 * @LRTR:globalHardContractMultiplier
	rewardScience = 0
	rewardReputation = 10
	failureReputation = 5
	failureFunds = @advanceFunds * 0.5

	// ************ REQUIREMENTS ************

	REQUIREMENT
	{
		name = CompleteContract
		type = CompleteContract
		contractType = FirstMolniyaSat
	}


	BEHAVIOUR
	{
		name = TundraOrbit
		type = OrbitGenerator

		RANDOM_ORBIT
		{
			type = Tundra
		}
	}

	PARAMETER
	{
		name = VesselGroup
		type = VesselParameterGroup
		title = Tundra Satellite
		define = TundraSatellite

		PARAMETER
		{
			name = NewVessel
			type = NewVessel
			title = Launch a New Vessel
			hideChildren = true
		}
		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 0
			maxCrew = 0
			title = Uncrewed
			hideChildren = true
		}
		PARAMETER
		{
			name = ReachSpecificOrbit
			type = ReachSpecificOrbit
			displayNotes = true
			index = 0
			deviationWindow = 4
			
			PARAMETER
			{
				name = Duration
				type = Duration

				duration = 2m

				preWaitText = Check for Stable Orbit
				waitingText = Checking for Stable Orbit
				completionText = Stable Orbit: Confirmed
			}
		}
	}
}

@CONTRACT_TYPE[FirstTundraSat]:NEEDS[LRTRContracts,!RealSolarSystem]
{
	@PARAMETER[VesselGroup]
	{
		PARAMETER
		{
			name = HasAntenna
			type = HasAntenna
			minAntennaPower = 5000000
			antennaType = RELAY
			title = Deploy a relay antenna of sufficiant power, such as an HG-5 High Gain Antenna
		}
	}
}
@CONTRACT_TYPE[FirstTundraSat]:NEEDS[LRTRContracts,RealSolarSystem]
{
	@PARAMETER[VesselGroup]
	{
		PARAMETER
		{
			name = HasAntenna
			type = HasAntenna
			minAntennaPower = 100000000
			antennaType = RELAY
			title = Deploy a relay antenna of sufficiant power, such as an HG-5 High Gain Antenna
		}
	}
}
@CONTRACT_TYPE[FirstTundraSat]:NEEDS[LRTRContracts,RealSolarSystem,RealAntennas]
{
	@PARAMETER[VesselGroup]
	{
		@PARAMETER[HasAntenna]
		{
			%type = HasRealAntenna
			%minGain = 7
			%minAntennaDiameter = 0.5
			!title = DEL
		}
	}	
}
